## RSocket example

Referenced from https://brunch.co.kr/@springboot/271 and rewritten to take advantage of the new APIs.

#### 1 fireAndForget

```
[2020-05-22 00:23:45][INFO ][dev.appkr.RSocketTest] - TCP server is listening port 10000
[2020-05-22 00:23:45][INFO ][dev.appkr.RSocketTest] - TCP client started with a socket localhost:10000
[2020-05-22 00:23:45][DEBUG][io.rsocket.FrameLogger] - sending -> 
Frame => Stream ID: 1 Type: REQUEST_FNF Flags: 0b0 Length: 20
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 48 65 6c 6c 6f 20 52 53 6f 63 6b 65 74 21       |Hello RSocket!  |
+--------+-------------------------------------------------+----------------+
[2020-05-22 00:23:45][DEBUG][io.rsocket.FrameLogger] - receiving -> 
Frame => Stream ID: 1 Type: REQUEST_FNF Flags: 0b0 Length: 20
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 48 65 6c 6c 6f 20 52 53 6f 63 6b 65 74 21       |Hello RSocket!  |
+--------+-------------------------------------------------+----------------+
[2020-05-22 00:23:45][INFO ][dev.appkr.RSocketTest] - Hello RSocket!
```

#### 2 requestResponse

```
[2020-05-22 00:26:41][DEBUG][io.rsocket.FrameLogger] - sending -> 
Frame => Stream ID: 1 Type: REQUEST_RESPONSE Flags: 0b0 Length: 43
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 48 6f 77 20 6d 75 63 68 20 64 6f 20 49 20 70 61 |How much do I pa|
|00000010| 79 20 66 6f 72 20 61 20 63 75 70 20 6f 66 20 4c |y for a cup of L|
|00000020| 61 74 74 65 3f                                  |atte?           |
+--------+-------------------------------------------------+----------------+
[2020-05-22 00:26:41][DEBUG][io.rsocket.FrameLogger] - receiving -> 
Frame => Stream ID: 1 Type: REQUEST_RESPONSE Flags: 0b0 Length: 43
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 48 6f 77 20 6d 75 63 68 20 64 6f 20 49 20 70 61 |How much do I pa|
|00000010| 79 20 66 6f 72 20 61 20 63 75 70 20 6f 66 20 4c |y for a cup of L|
|00000020| 61 74 74 65 3f                                  |atte?           |
+--------+-------------------------------------------------+----------------+
How much do I pay for a cup of Latte?
[2020-05-22 00:26:42][DEBUG][io.rsocket.FrameLogger] - sending -> 
Frame => Stream ID: 1 Type: NEXT_COMPLETE Flags: 0b1100000 Length: 29
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 4c 61 74 74 65 20 70 72 69 63 65 20 69 73 20 31 |Latte price is 1|
|00000010| 2c 32 30 30 4b 52 57                            |,200KRW         |
+--------+-------------------------------------------------+----------------+
[2020-05-22 00:26:42][DEBUG][io.rsocket.FrameLogger] - receiving -> 
Frame => Stream ID: 1 Type: NEXT_COMPLETE Flags: 0b1100000 Length: 29
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 4c 61 74 74 65 20 70 72 69 63 65 20 69 73 20 31 |Latte price is 1|
|00000010| 2c 32 30 30 4b 52 57                            |,200KRW         |
+--------+-------------------------------------------------+----------------+
[2020-05-22 00:26:42][INFO ][dev.appkr.RSocketTest] - Latte price is 1,200KRW
```

#### 3 reqeustStream

```
[2020-05-22 00:48:14][DEBUG][io.rsocket.FrameLogger] - sending -> 
Frame => Stream ID: 1 Type: REQUEST_STREAM Flags: 0b0 Length: 23 InitialRequestN: 9223372036854775807
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 48 65 6c 6c 6f 20 53 74 72 65 61 6d 21          |Hello Stream!   |
+--------+-------------------------------------------------+----------------+
[2020-05-22 00:48:14][DEBUG][io.rsocket.FrameLogger] - receiving -> 
Frame => Stream ID: 1 Type: REQUEST_STREAM Flags: 0b0 Length: 23 InitialRequestN: 9223372036854775807
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 48 65 6c 6c 6f 20 53 74 72 65 61 6d 21          |Hello Stream!   |
+--------+-------------------------------------------------+----------------+
[2020-05-22 00:48:14][INFO ][dev.appkr.RSocketTest] - Hello Stream!
[2020-05-22 00:48:14][DEBUG][io.rsocket.FrameLogger] - sending -> 
Frame => Stream ID: 1 Type: NEXT Flags: 0b100000 Length: 14
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 6f 6e 4e 65 78 74 2d 31                         |onNext-1        |
+--------+-------------------------------------------------+----------------+

# ...

[2020-05-22 00:48:14][DEBUG][io.rsocket.FrameLogger] - sending -> 
Frame => Stream ID: 1 Type: NEXT Flags: 0b100000 Length: 15
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 6f 6e 4e 65 78 74 2d 31 30                      |onNext-10       |
+--------+-------------------------------------------------+----------------+

[2020-05-22 00:48:14][DEBUG][io.rsocket.FrameLogger] - receiving -> 
Frame => Stream ID: 1 Type: NEXT Flags: 0b100000 Length: 14
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 6f 6e 4e 65 78 74 2d 31                         |onNext-1        |
+--------+-------------------------------------------------+----------------+
[2020-05-22 00:48:14][INFO ][dev.appkr.RSocketTest] - onNext-1

# ...

[2020-05-22 00:48:14][DEBUG][io.rsocket.FrameLogger] - receiving -> 
Frame => Stream ID: 1 Type: NEXT Flags: 0b100000 Length: 15
Data:
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 6f 6e 4e 65 78 74 2d 31 30                      |onNext-10       |
+--------+-------------------------------------------------+----------------+
[2020-05-22 00:48:14][INFO ][dev.appkr.RSocketTest] - onNext-10

[2020-05-22 00:48:14][INFO ][dev.appkr.RSocketTest] - Completed!
```

